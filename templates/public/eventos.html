{% extends "base.html" %}
{% block title %}Eventos{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-5">Nossos Eventos</h1>
    <div class="row g-4">
        {% for e in eventos %}
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">

                <!-- ðŸ”µ IMAGEM GRANDE COM CLICK PARA EXPANDIR -->
                <a href="#" data-bs-toggle="modal" data-bs-target="#imagemModal{{ e.id }}">
                    {% if e.imagem %}
                        <img src="{{ url_for('uploaded_file', filename=e.imagem) }}"
                             class="w-100"
                             style="height: 350px; object-fit: cover; border-top-left-radius: .5rem; border-top-right-radius: .5rem;">
                    {% else %}
                        <img src="https://via.placeholder.com/900x600/6c757d/ffffff?text=Sem+Imagem"
                             class="w-100"
                             style="height: 350px; object-fit: cover; border-top-left-radius: .5rem; border-top-right-radius: .5rem;">
                    {% endif %}
                </a>

                <div class="card-body">
                    <h5 class="card-title">{{ e.titulo }}</h5>
                    <p class="card-text text-muted"><strong>{{ e.data.strftime('%d de %B de %Y') }}</strong></p>
                    <p class="card-text">{{ e.descricao }}</p>
                </div>
            </div>
        </div>

        <!-- ðŸ”µ MODAL PARA EXPANDIR IMAGEM -->
        <div class="modal fade" id="imagemModal{{ e.id }}" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered modal-xl">
                <div class="modal-content bg-dark">
                    <div class="modal-body p-0">
                        <img
                            src="{{ url_for('uploaded_file', filename=e.imagem) if e.imagem else 'https://via.placeholder.com/1200x900/6c757d/ffffff?text=Sem+Imagem' }}"
                            class="w-100"
                            style="max-height: 90vh; object-fit: contain;">
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
